## –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ React

### –≠—Ç–∞–ø ‚Ññ 1: –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ö–∞–∫ –∏–∑–≤–µ—Å—Ç–Ω–æ, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–æ–≤, —Ç–æ–∂–µ —è–≤–ª—è—é—Ç—Å—è –∫–ª–∞—Å—Å–∞–º–∏. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫–∞–µ–º—ã–π –º–µ—Ç–æ–¥ ‚Äî constructor(). –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –∏–º–µ–Ω–Ω–æ –≤ constructor() –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–î–∞–ª–µ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç getDerivedStateFromProps(), –ø–æ—Ç–æ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è render(), –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π JSX. React ¬´–º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è¬ª –≤ DOM. –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø ‚Äî –∑–∞–ø—É—Å–∫ –º–µ—Ç–æ–¥–∞ componentDidMount(). –¢—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∫ –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö. –ò—Ç–∞–∫, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ¬´—Ä–æ–∂–¥–µ–Ω¬ª.

### –≠—Ç–∞–ø ‚Ññ 2: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–î–∞–Ω–Ω—ã–π —ç—Ç–∞–ø –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ª–∏–±–æ —Å–≤–æ–π—Å—Ç–≤. –ö–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ getDerivedStateFromProps(), –æ–¥–Ω–∞–∫–æ –≤ —ç—Ç–æ—Ç —Ä–∞–∑ —É–∂–µ –±–µ–∑ constructor().

–ü–æ—Ç–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–ø—É—Å–∫ shouldComponentUpdate(). –¢—É—Ç –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å–≤–æ–π—Å—Ç–≤ —Å –Ω–æ–≤—ã–º –ø–µ—Ä–µ—á–Ω–µ–º —Å–≤–æ–π—Å—Ç–≤ –ª–∏–±–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ü—Ä–∏ —ç—Ç–æ–º –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å, –Ω–∞–¥–æ –ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–Ω–æ–≤–æ, –≤–æ–∑–≤—Ä–∞—â–∞—è true –ª–∏–±–æ false ‚Äî —ç—Ç–æ –¥–∞—Å—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –±–ª–∞–≥–æ–¥–∞—Ä—è —É–º–µ–Ω—å—à–µ–Ω–∏—é —á–∏—Å–ª–∞ –ª–∏—à–Ω–∏—Ö –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–π. –ï—Å–ª–∏ –∂–µ shouldComponentUpdate() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false, —ç—Ç–∞–ø –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è.

–í –æ–±—Ä–∞—Ç–Ω–æ–º —Å–ª—É—á–∞–µ React –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –∑–∞–Ω–æ–≤–æ, –∞ –ø–æ—Ç–æ–º –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è getSnapshotBeforeUpdate(). –ü–æ—Ç–æ–º React –∑–∞–ø—É—Å—Ç–∏—Ç componentDidUpdate(). –ö–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å componentDidMount(), –µ–≥–æ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –ª–∏–±–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è DOM.

### –≠—Ç–∞–ø ‚Ññ 3: —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Ö–æ—Ä–æ—à–µ–µ –∏–º–µ–µ—Ç —Ç–µ–Ω–¥–µ–Ω—Ü–∏—é –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è. –ö–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–∂–∏–ª —Å–≤–æ—é –∂–∏–∑–Ω—å, –Ω–∞—Å—Ç—É–ø–∞–µ—Ç —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —ç—Ç–∞–ø. –í–æ –≤—Ä–µ–º—è —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ DOM React –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—É—Å–∫ componentWillUnmount() –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Ç–∏–ø–∞ web-—Å–æ–∫–µ—Ç–æ–≤ –ª–∏–±–æ —Ç–∞–π–º-–∞—É—Ç–æ–≤.


## –•—É–∫–∏ 

### jsx
–ò–º–µ–Ω–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –µ–º—É —É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ—è–≤–∏–ª–æ—Å—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

```javascript
const App = () => {
  const [value, valueChange] = useState(0);
 
  return (
    <div>
      {value}
      <button onClick={() => valueChange(value + 1)}>
        –£–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ 1
      </button>
    </div>
  );
};
```

### useContext

–ß—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å props. –ù–æ –µ—Å—Ç—å –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äì context.
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ—Ç–∞—Å–∫–∏–≤–∞—Ç—å (drops drilling) —á–µ—Ä–µ–∑ –≤—Å–µ
–¥–æ—á–µ—Ä–Ω–∏–µ porps. 

–í—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–π —Ö—É–∫,
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º, –ø–æ–º–µ—â–∞—è –∏—Ö –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä value. 

```jsx
import {createContext, useContext} from "react";

const MyContext = createContext("without provider");
 
const External = () => {
  return (
    <MyContext.Provider value="Hello, i am External">
      <Intermediate />
    </MyContext.Provider>
  );
};
 
const Intermediate = () => {
  return <Internal />;
};
 
const Internal = () => {
  const context = useContext(MyContext);
 
  return `I am Internal component. I have got the message from External: "${context}"`;
};
```

### useEffect, useLayoutEffect
–í —Å–ª—É—á–∞–µ —Å useLayoutEffect React –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ DOM –¥–µ—Ä–µ–≤–∞ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç useLayoutEffect. –ï—Å–ª–∏ –∂–µ –º—ã –±–µ—Ä—ë–º useEffect, —Ç–æ React —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ DOM, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –∑–∞–ø—É—Å–∫–∞ useEffect.

useEffect –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ —Å–µ–±—è –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

- callback. –í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –≤—Å—è –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, –∫–æ—Ç–æ—Ä—É—é –º—ã —Ö–æ—Ç–∏–º –æ–ø–∏—Å–∞—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∑–∞–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –∏–ª–∏ —á—Ç–æ-—Ç–æ –µ—â—ë;
- –º–∞—Å—Å–∏–≤, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –ª—é–±–æ–≥–æ –∏–∑ –Ω–∏—Ö –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–∞—à callback. –ò–º–µ–Ω–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç—É –º—ã –º–æ–∂–µ–º –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.
```jsx
 useEffect(() => {
    console.log("componentDidUpdate");
  }, [data]);
```
–ü—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –Ω–∞–º –Ω—É–∂–Ω–æ 
–æ—Ç–≤—è–∑–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

```jsx
const App = ({data}) => {
  useEffect(() => {
    return () => {
      console.log("componentWillUnmount");
    };
  }, []);
 
  return null;
};
```


### useRef
–ë—ã–≤–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∫–∞–∫–æ–º—É-—Ç–æ DOM-–æ–±—ä–µ–∫—Ç—É –Ω–∞–ø—Ä—è–º—É—é. –î–ª—è —ç—Ç–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ö—É–∫ useRef.
```jsx
const App = () => {
  const ref = useRef();
 
  useEffect(() => {
    console.log(ref.current);
  }, []);
 
  return <div ref={ref} />;
};
```
–î–∞–ª–µ–µ –º—ã –º–æ–∂–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å Dom-–æ–±—ä–µ–∫—Ç–æ–º –Ω–∞–ø—Ä—è–º—É—é, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –º—ã –Ω–∞—à–ª–∏ –µ–≥–æ —Å –ø–æ–º–æ—â—å—é —Å–µ–ª–µ–∫—Ç–æ—Ä–∞.


### useReducer

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º React —Ç–∞–∫ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è Redux, —á—Ç–æ –æ–Ω–∏ —Ä–µ—à–∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –∞–Ω–∞–ª–æ–≥ –≤ —Å–æ—Å—Ç–∞–≤ React. –≠—Ç–æ—Ç —Ö—É–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

```jsx
import {useReducer} from "react";
 
const initialState = {count: 0};
 
function reducer(state, action) {
  switch (action.type) {
    case "increment":
      return {
        ...state,
        count: state.count + 1,
      };
    case "decrement":
      return {
        ...state,
        count: state.count - 1,
      };
    default:
      throw new Error();
  }
}
 
const App = () => {
  const [state, dispatch] = useReducer(reducer, initialState);
 
  return (
    <>
      {state.count}
      <button onClick={() => dispatch({type: "decrement"})}>-</button>
      <button onClick={() => dispatch({type: "increment"})}>+</button>
    </>
  );
};
```
–£ –Ω–µ–≥–æ –µ—Å—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –≤–ª–æ–∂–µ–Ω—ã –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞, –º—ã —Å–º–æ–∂–µ–º –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ª—é–±–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.

### –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é useMemo, React.memo

Memoization ‚Äî —ç—Ç–æ –ø—Ä–∏—á—É–¥–ª–∏–≤–æ–µ —Å–ª–æ–≤–æ –¥–ª—è –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Ö–Ω–∏–∫–∏. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ, –æ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è  –≤ –∫—ç—à–µ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ —ç—Ç–æ–π memoized —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è (–∏–ª–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è, —á—Ç–æ –±—ã –í—ã –Ω–∏ –¥–µ–ª–∞–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Ç–µ–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏). –ü–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã —Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ö –≤ –∫—ç—à–µ –ø–æ–¥ –∫–ª—é—á–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –≤—Ö–æ–¥–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

–£ –Ω–∞—Å –µ—Å—Ç—å –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç App.
–û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö count –≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö, –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Count, –∞ —Ç–∞–∫–∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç IsFine, –æ–ø–∏—Å–∞–Ω–∏—è –∫ –Ω–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω—ã –Ω–∏–∂–µ.

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–¥–Ω–æ–π –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö count1 –∏–ª–∏ count2, —Å –ø–æ–º–æ—â—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ç—Ç–µ—Ä–∞, –∫–∞–∂–¥—ã–π –∏–∑ –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Count, IsFine) –±—É–¥–µ—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è.
–°  –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ getResult, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ IsFine, –º—ã –º–æ–∂–µ–º –∑–∞–º–µ—Ç–∏—Ç—å –∫–∞–∫ —Å–∏–ª—å–Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

```jsx
export const App = () => {
    const [count1, setCount1] = useState(0);
    const [count2, setCount2] = useState(0);
    return (
        <div className={styles.container}>
            <h5>–°—á–µ—Ç—á–∏–∫ 1:</h5>
            <div className="counter">
                <button onClick={() => setCount1(count1 + 1)}>+</button>
                <Count id={1} value={count1}/>
            </div>

            <h5>–°—á–µ—Ç—á–∏–∫ 2:</h5>
            <div className="counter">
                <button onClick={() => setCount2(count2 + 1)}>+</button>
                <Count id={2} value={count2}/>
                <IsFine value={count2}/>
            </div>
        </div>
    );
};
```

–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Count, –º—ã –∫–µ—à–∏—Ä—É–µ–º –∏ –≤—ã–≤–æ–¥–∏–º –≤ –ª–æ–≥–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
–¢–∞–∫–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º value.
```jsx
const render: {[index:string]:number} = {
    count1: 0,
    count2: 0
};


export const Count = ({ id, value } :{id: number, value: number}) => {
    console.log(`üî¥üåö Count${id} render: ${++render[`count${id}`]}`);
    return (
        <div>
            <h1 className="cyan">{value}</h1>
        </div>
    );
};
```
–í –¥–∞–Ω–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —É –Ω–∞—Å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–æ–∂–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ getResult, –ø–æ—Å–ª–µ —á–µ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ value === 5
```jsx
let renderCount = 0;

export const IsFine = ({value}:{value: number}) => {
    console.log(`üî¥üåö isFine render: ${++renderCount}`);
    const getResult = () => {
        let i = 0;
        while (i < 600000000) i ++;
        return value === 5 ? 'üí£ –≠—Ç–æ 5 :D' : 'üí© –≠—Ç–æ –Ω–µ 5 :(';
    };
    return (
        <h3>
            {getResult()}
        </h3>
    );
};
```

### useMemo

–≠—Ç–æ—Ç —Ö—É–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –æ–¥–Ω–∏ –∏ —Ç–µ 
–∂–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –º–Ω–æ–≥–æ —Ä–∞–∑.
–í —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ—Ç—Å—è –≤ —Ç–æ–º —Å–ª—É—á–∞–µ,
–µ—Å–ª–∏ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Äì a –∏–ª–∏ b. 
–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —É –Ω–∞—Å –º–Ω–æ–≥–æ —Ä–∞–∑ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è 
–ø–∞—Ä–∞–º–µ—Ç—Ä b, –ø—Ä–∏ —ç—Ç–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä a –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º. 
–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –º—ã –º–Ω–æ–≥–æ —Ä–∞–∑ –≤—ã—á–∏—Å–ª—è–µ–º –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ 
–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–º–µ—â–∞–µ–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é sqrt.
–¢—É—Ç –Ω–∞–º –∏ –ø–æ–º–æ–≥–∞–µ—Ç useMemo

```jsx
const MyComponent = ({a, b}) => {
  const sqrt = useMemo(() => a * a, [a]);
  return (
    <div>
      <div>–ê –≤ –∫–≤–∞–¥—Ä–∞—Ç–µ: {sqrt}</div>
      <div>B: {b}</div>
    </div>
  );
};
```

### useCallback

–í —Å–∏–ª—É —Ç–æ–≥–æ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äì —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, 
–ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Å—ë, 
—á—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–æ –≤ –Ω–µ–π. 
–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –º—ã —Å–æ–∑–¥–∞–µ–º –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—é
–∏ –ø–µ—Ä–µ–¥–∞–µ–º –µ–µ –≤ –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. 
–≠—Ç–æ —Å–∞–º–∞—è –æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. –û–Ω–∞ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è, 
–∫–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –∏–∑ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑–º–µ–Ω–∏—Ç—å —á—Ç–æ-—Ç–æ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º.

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —É –Ω–∞—Å –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞: 
–ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ App –º—ã –±—É–¥–µ–º –∑–∞–Ω–æ–≤–æ 
—Å–æ–∑–¥–∞–≤–∞—Ç—å –º–µ—Ç–æ–¥ changer. 
–•–æ—Ç—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —É –º–µ—Ç–æ–¥–∞ –±—É–¥–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π, 
–∫–∞–∂–¥—ã–π —Ä–∞–∑ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —É 
ControlPanel –±—É–¥—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ 
—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∏, –Ω–æ –ø–æ —Å—É—Ç–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.
```jsx
const ControlPannel = memo(({changer}) => {
  return (
    <div>
      <button onClick={changer}>+</button>
    </div>
  );
});
 
const App = () => {
  const [value, valueChange] = useState(Math.random());
 
  const changer = () => valueChange(Math.random());
 
  return (
    <div>
      {value}
      <ControlPannel changer={changer} />
    </div>
  );
};
```

–ò–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ –ø–æ–º–æ–∂–µ—Ç useCallback.

```jsx
const ControlPannel = memo(({increment}) => {
  return (
    <div>
      <button onClick={increment}>+</button>
    </div>
  );
});
 
const App = () => {
  const [value, valueChange] = useState(Math.random());
 
  const increment = useCallback(() => valueChange(Math.random()), []);
 
  return (
    <div>
      {value}
      <ControlPannel increment={increment} />
    </div>
  );
};
```
### React.memo

React.memo ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞.
–ï—Å–ª–∏ –≤–∞—à –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç –æ–¥–Ω–æ –∏ —Ç–æ
–∂–µ –ø—Ä–∏ –Ω–µ–º–µ–Ω—è—é—â–∏—Ö—Å—è –ø—Ä–æ–ø—Å–∞—Ö, 
–≤—ã –º–æ–∂–µ—Ç–µ –æ–±–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤ –≤—ã–∑–æ–≤ 
React.memo –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö 
—Å–ª—É—á–∞—è—Ö, –º–µ–º–æ–∏–∑–∏—Ä—É—è —Ç–µ–º —Å–∞–º—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç. 
–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ React –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞,
–∏–∑–±–µ–≥–∞—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

```tsx
function MyComponent(props) {
  /* —Ä–µ–Ω–¥–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ–ø—Å–æ–≤ */
}
function areEqual(prevProps, nextProps) {
  /*
  –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ nextProps —Ä–µ–Ω–¥–µ—Ä–∏—Ç
  —Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á—Ç–æ –∏ prevProps,
  –∏–Ω–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false
  */
}
export default React.memo(MyComponent, areEqual);
```

## HOC 

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ - —Ñ—É–Ω–∫—Ü–∏—è –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.


–≠—Ç–æ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω **–ü—Ä–æ–∫—Å–∏**.

```tsx
const withLayout = <T extends Record<string, unknoun>>(Component: FunctionComponent<T>) => {
    return function widthLayoutComponent(props: T): JSX.Element {
        return <Component {...props}>
    }
}
```


